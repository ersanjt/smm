"use strict";function selectTypeService(e){$(document).on("change","select[name="+e+"]",function(){var e=$("option:selected",this).val();switch(e){case"noselect":$(".dripfeed-default").addClass("d-none"),$(".type_service").addClass("col-12"),$(".type_service").removeClass("col-6");break;case"default":$(".dripfeed-default").removeClass("d-none"),$(".type_service").removeClass("col-12"),$(".type_service").addClass("col-6");break;case"subscriptions":case"custom_comments":case"custom_comments_package":case"mentions_with_hashtags":case"mentions_custom_list":case"mentions_hashtag":case"mentions_user_followers":case"mentions_media_likers":case"package":case"comment_likes":case"custom_data":case"poll":case"seo":$(".dripfeed-default").addClass("d-none"),$(".type_service").removeClass("col-6"),$(".type_service").addClass("col-12")}})}function serviceEdit(e,s){$(".editService").attr("action",base+"admin/services/edit/"+e);var a=$("#name_service"+e).data("name-service"),t=$(".description_service"+e).html(),i=$("#service_category_id"+s).data("category-id"),c=$("#type_service"+e).data("api-or-manual"),r=$("#type_service"+e).data("type"),n=$("#type_service"+e).data("name-api"),o=$("#price_service"+e).data("price"),d=$("#min_max_service"+e).data("min"),l=$("#min_max_service"+e).data("max"),m=$("#dripfeed_service"+e).data("dripfeed"),p=$("#status_service"+e).data("status");switch($("input[name=edit_package_name]").val(a),$("select[name=category_service]").val(i),$("input[name=edit_min_amount]").val(d),$("input[name=edit_max_amount]").val(l),$("select[name=edit_services_type]").val(r),$("input[name=edit_price_amount]").val(o),$("#description_service").text(t.replace(/(<([^>]+)>)/gi,"")),"manual"==c?($(".dripfeed-default-edit").show(),$(".type_service_edit").show(),$(".api_name_form").addClass("d-none"),$(".edit_min_amount").removeClass("d-none"),$(".edit_max_amount").removeClass("d-none")):($(".dripfeed-default-edit").hide(),$(".type_service_edit").hide(),$(".api_name_form").removeClass("d-none"),$(".api_name_form").html("("+n+")"),$(".edit_min_amount").addClass("d-none"),$(".edit_max_amount").addClass("d-none")),r){case"default":$(".dripfeed-default-edit").removeClass("d-none"),$(".type_service_edit").addClass("col-6"),$(".type_service_edit").removeClass("col-12"),$("select[name=edit_dripfeed_service]").val(m);break;case"custom_data":case"subscriptions":case"custom_comments":case"custom_comments_package":case"mentions_with_hashtags":case"mentions_custom_list":case"mentions_hashtag":case"mentions_user_followers":case"mentions_media_likers":case"package":case"comment_likes":case"poll":case"seo":$(".dripfeed-default-edit").addClass("d-none"),$(".type_service_edit").removeClass("col-6"),$(".type_service_edit").addClass("col-12")}0==p?$("input[name=status_service]").bootstrapToggle("off"):1==p&&$("input[name=status_service]").bootstrapToggle("on")}$(".addNewService").on("submit",function(){event.preventDefault(),pageOverlay.show();var e=$(this).serialize();$.post(this.action,e,function(e){"error"==e.type?(pageOverlay.hide(),$("input[name=csrf_boostpanel]").val(e.csrf),$(".success").attr("style","display:none;"),$(".error").attr("style","display:block;"),$(".error-message").html(e.message)):"success"==e.type&&(pageOverlay.hide(),$("input[name=csrf_boostpanel]").val(e.csrf),$(".error").attr("style","display:none;"),$(".success").attr("style","display:block;"),$(".success-message").html('<div class="spinner-border spinner-border-sm" role="status"></div> '+e.message),setTimeout(function(){location.reload()},2e3))},"json")}),$(".editService").on("submit",function(){event.preventDefault(),pageOverlay.show();var e=$(this).serialize();$.post(this.action,e,function(e){"error"==e.type?(pageOverlay.hide(),$("input[name=csrf_boostpanel]").val(e.csrf),$(".success").attr("style","display:none;"),$(".error").attr("style","display:block;"),$(".error-message").html(e.message)):"success"==e.type&&(pageOverlay.hide(),$("input[name=csrf_boostpanel]").val(e.csrf),$(".error").attr("style","display:none;"),$(".success").attr("style","display:block;"),$(".success-message").html('<div class="spinner-border spinner-border-sm" role="status"></div> '+e.message),setTimeout(function(){location.reload()},2e3))},"json")}),$(".dripfeed-default").addClass("d-none"),$(".type_service").removeClass("col-6"),$(".type_service").addClass("col-12"),$(document).on("input",".searchServicesAjax",function(){event.preventDefault(),pageOverlay.show();var e=$(this).data("url"),s=$(this).serialize(),a=$(this).val();$.post(e,s,function(e){""!=a?(pageOverlay.hide(),$(".table-search-services").empty().append(e)):(pageOverlay.hide(),location.reload())})});